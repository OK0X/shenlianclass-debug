(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"091e":function(e,t,a){},8669:function(e,t,a){"use strict";var s=a("091e"),r=a.n(s);r.a},f241:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHh LpR fFf"}},[a("q-header",{staticClass:"myheader"},[a("div",{staticClass:"header-top"},[a("img",{staticStyle:{width:"131px",height:"51px","align-self":"center","margin-left":"20px"},attrs:{src:"statics/test-logo.png"}}),a("q-input",{staticClass:"search-bar",attrs:{"bottom-slots":"",dense:!0},on:{input:e.getSearch},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("q-menu",{attrs:{fit:"","no-focus":""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.searchText.length,expression:"searchText.length===0"}],staticStyle:{padding:"16px",color:"gray"}},[e._v("你还未输入内容哦!")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchText.length>0&&e.searchText.length<3,expression:"searchText.length>0&&searchText.length<3"}],staticStyle:{padding:"16px",color:"gray"}},[e._v("输入内容太少哦!")]),a("q-list",{directives:[{name:"show",rawName:"v-show",value:e.searchText.length>=3,expression:"searchText.length>=3"}],staticStyle:{"min-width":"100px"}},[a("q-linear-progress",{directives:[{name:"show",rawName:"v-show",value:e.searchProgressShow,expression:"searchProgressShow"}],staticStyle:{height:"2px"},attrs:{indeterminate:""}}),a("div",{staticClass:"flex-col",staticStyle:{padding:"8px 16px"}},[a("span",{staticStyle:{color:"gray"}},[e._v("课程")]),a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.courseSearch.length,expression:"courseSearch.length===0"}],staticStyle:{color:"gray","padding-left":"16px"}},[e._v("未找到相关课程")]),e._l(e.courseSearch,(function(t,s){return a("q-item",{key:s,staticStyle:{"min-height":"0",padding:"4px 16px"},attrs:{clickable:""},on:{click:function(a){return e.searchGoto(1,t)}}},[a("q-item-section",[e._v(e._s(t.tx))])],1)}))],2),a("q-separator"),a("div",{staticClass:"flex-col",staticStyle:{padding:"8px 16px"}},[a("span",{staticStyle:{color:"gray"}},[e._v("问答")]),a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.askSearch.length,expression:"askSearch.length===0"}],staticStyle:{color:"gray","padding-left":"16px"}},[e._v("未找到相关问答")]),e._l(e.askSearch,(function(t,s){return a("q-item",{key:s,staticStyle:{"min-height":"0",padding:"4px 16px"},attrs:{clickable:""},on:{click:function(a){return e.searchGoto(2,t)}}},[a("q-item-section",[e._v(e._s(t.tx))])],1)}))],2),a("q-separator"),a("div",{staticClass:"flex-col",staticStyle:{padding:"8px 16px"}},[a("span",{staticStyle:{color:"gray"}},[e._v("资源")]),a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.resSearch.length,expression:"resSearch.length===0"}],staticStyle:{color:"gray","padding-left":"16px"}},[e._v("未找到相关资源")]),e._l(e.resSearch,(function(t,s){return a("q-item",{key:s,staticStyle:{"min-height":"0",padding:"4px 16px"},attrs:{clickable:""},on:{click:function(a){return e.searchGoto(3,t)}}},[a("q-item-section",[e._v(e._s(t.tx))])],1)}))],2)],1)],1)],1),a("img",{staticStyle:{width:"90px",height:"90px","align-self":"center"},attrs:{src:"statics/wx-gh-qrcode.jpg"}}),a("div",{staticStyle:{"align-self":"center","margin-left":"50px"}},[a("div",{staticStyle:{display:"flex"}},[a("img",{staticStyle:{width:"40px",height:"40px","border-radius":"50%",cursor:"pointer"},attrs:{src:e.user.avatar,onerror:"src = 'statics/default-avatar.gif'"}}),a("span",{staticStyle:{"align-self":"center","margin-left":"10px",cursor:"pointer"}},[e._v(e._s(null==e.user.nick?"游客":e.user.nick))])]),a("q-menu",[a("q-list",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof e.user.uuid,expression:"typeof user.uuid !== 'undefined'"}],staticStyle:{"min-width":"100px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/MyInfo"}},[a("q-item-section",[e._v("个人中心")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/ResourceCreate"}},[a("q-item-section",[e._v("发布资源")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/MyCreate"}},[a("q-item-section",[e._v("我发布的课程")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"},{name:"show",rawName:"v-show",value:e.user.role>=2,expression:"user.role>=2"}],attrs:{clickable:"",to:"/Admin"}},[a("q-item-section",[e._v("管理员")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.logout}},[a("q-item-section",[e._v("安全退出")])],1)],1)],1)],1),a("span",{staticStyle:{color:"#ff7a00","align-self":"center",cursor:"pointer"},on:{click:e.login}},[e._v(e._s(e.role))])],1),a("div",{staticClass:"main-tabs"},[a("div",{staticClass:"main-tab",style:0===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(0)}}},[e._v("首页")]),a("div",{staticClass:"main-tab",style:1===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(1)}}},[e._v("我的课程")]),a("div",{staticClass:"main-tab",style:2===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(2)}}},[e._v("知识问答")]),a("div",{staticClass:"main-tab",style:4===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(4)}}},[e._v("资源下载")]),a("div",{staticClass:"main-tab",style:3===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(3)}}},[e._v("课程发布")]),a("div",{staticClass:"main-tab",style:5===e.tabIndex?"color: #027be3;":"color: black;",on:{click:function(t){return e.showTab(5)}}},[e._v("关于")])])]),a("q-page-container",{staticStyle:{"background-color":"#f2f5f9"}},[a("router-view")],1),a("LoginDialog",{attrs:{dialogData:e.loginDialog}}),a("FeedbackDialog",{attrs:{dialogData:e.feedbackDialog}}),a("div",{staticClass:"flat-bar",on:{click:e.submitQuesion}},[a("div",[e._v("意")]),a("div",[e._v("见")]),a("div",[e._v("反")]),a("div",[e._v("馈")])])],1)},r=[],i=a("a002"),o=a.n(i),c=a("51ff"),n=a("f5ef"),l=a("0c1f"),u={components:{LoginDialog:c["a"],FeedbackDialog:l["a"]},data:function(){return{searchText:"",loginDialog:{show:!1,title:"快捷登陆"},courseSearch:[],askSearch:[],resSearch:[],searchProgressShow:!1,feedbackDialog:{show:!1,title:"意见反馈",hint:"请描述您的建议"}}},computed:{user:{get:function(){return this.$store.state.user.user},set:function(e){this.$store.commit("user/updateUser",e)}},role:function(){if("undefined"===typeof this.user.role)return"( 注册/登陆 )";switch(this.user.role){case 0:return"";case 1:return"(讲师)";case 2:return"(管理员)";case 3:return"(超级管理员)";default:break}},tabIndex:{get:function(){switch(this.$route.path){case"/MyCourses":return 1;case"/Ask":return 2;case"/CourseCreate":return 3;case"/ResourceDown":return 4;case"/About":return 5;case"":return 0;case"/":return 0;default:return-1}},set:function(e){}}},mounted:function(){},methods:{submitQuesion:function(){this.feedbackDialog.show=!1,this.feedbackDialog.event="意见反馈",this.feedbackDialog.extras={},this.feedbackDialog.show=!0},login:function(){"undefined"===typeof this.user.role&&(this.loginDialog.show=!0)},logout:function(){var e=this;o.a.removeItem("user").then((function(){toast("已退出当前账户");var t={avatar:""};e.user=t,n["a"].$emit("logout"),e.$router.push("/")}))},showTab:function(e){if(this.tabIndex!==e)switch(this.tabIndex=e,e){case 0:this.$router.push("/");break;case 1:this.$router.push("/MyCourses");break;case 2:this.$router.push("/Ask");break;case 3:this.$router.push("/CourseCreate");break;case 4:this.$router.push("/ResourceDown");break;case 5:this.$router.push("/About");break;default:this.$router.push("/");break}},getSearch:function(e){var t=this;if(e.length>=3){this.searchProgressShow=!0;var a=(new Date).getTime()+this.global.requestExpireT,s={tx:e};this.$axios.get(this.global.api.backurl+"other/search",{params:s,headers:{"access-token":this.util.generateToken(JSON.stringify(s),a),timestamp2:a}}).then((function(e){if(t.searchProgressShow=!1,200===e.status&&0===e.data.code){var a=e.data.data;t.courseSearch=[],t.askSearch=[],t.resSearch=[];for(var s=0;s<a.length;s++)switch(a[s].type){case 1:t.courseSearch.push(a[s]);break;case 2:t.askSearch.push(a[s]);break;case 3:t.resSearch.push(a[s]);break;default:break}}})).catch((function(e){}))}},searchGoto:function(e,t){switch(e){case 1:this.$router.push({path:"/CourseDetail",query:{courseid:t.uuid}});break;case 2:this.getAskDetailById(t.uuid);break;case 3:this.$router.push({path:"/ResourceDetail",query:{uuid:t.uuid}});break;default:break}},getAskDetailById:function(e){var t=this,a=(new Date).getTime()+this.global.requestExpireT,s={uuid:e};this.util.loadingShow(this),this.$axios.get(this.global.api.backurl+"ask/getAskById",{params:s,headers:{"access-token":this.util.generateToken(JSON.stringify(s),a),timestamp2:a}}).then((function(e){t.util.loadingHide(t),200===e.status&&0===e.data.code&&t.$router.push({path:"/AskDetail",query:{arg:e.data.data[0]}})})).catch((function(e){console.log(e)}))}}},h=u,p=(a("8669"),a("2877")),d=a("eebe"),g=a.n(d),v=a("4d5a"),f=a("e359"),m=a("27f9"),b=a("0016"),k=a("4e73"),x=a("1c1c"),w=a("6b1d"),y=a("66e5"),S=a("4074"),_=a("eb85"),q=a("09e3"),C=a("7f67"),T=Object(p["a"])(h,s,r,!1,null,"04e2dbc4",null);t["default"]=T.exports;g()(T,"components",{QLayout:v["a"],QHeader:f["a"],QInput:m["a"],QIcon:b["a"],QMenu:k["a"],QList:x["a"],QLinearProgress:w["a"],QItem:y["a"],QItemSection:S["a"],QSeparator:_["a"],QPageContainer:q["a"]}),g()(T,"directives",{ClosePopup:C["a"]})}}]);